# Inflation Subsystem

## Introduction

The Flare Network inflation subsystem contains a series of components that orchestrate recognition, authorization, minting, and funding of inflation rewards for services performed by participants of the network.

## Governance

Inflation percentages are pre-determined by governance of the Flare Network and become part of Flare governing parameters. Inflation can be divided up to compensate different constituents for the services they provide to the network. We will call those components a type of inflation.

Each inflation type is defined by an annual inflation percentage that is exposed by the Flare [InflationAllocation] contract. Consuming contracts access those values through providers, which form a separating abstraction between the governance process and consumers of governing parameters. For example, [IIInflationPercentageProvider] provides the interface through which inflation contracts will obtain the inflation percentage, while [FtsoInflationPercentageProvider] provides the implementation consumers can use to obtain the ratified percentage for Ftso inflation rewards. The governance and parameter ratification process is subject to change as its design becomes more fully formed.

## Recognition

[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb0luZmxhdGlvbkF1dGhvcml6ZXJcbiAgICBwYXJ0aWNpcGFudCBGdHNvSW5mbGF0aW9uUGVyY2VudGFnZVByb3ZpZGVyXG4gICAgcGFydGljaXBhbnQgU3VwcGx5QWNjb3VudGluZ1xuICAgIHBhcnRpY2lwYW50IEZ0c29JbmZsYXRpb25BY2NvdW50aW5nXG4gICAgbG9vcCBFdmVyeSBibG9ja1xuICAgICAgICBWYWxpZGF0b3ItLT5GbGFyZUtlZXBlcjogdHJpZ2dlcigpXG4gICAgICAgIGFjdGl2YXRlIEZsYXJlS2VlcGVyXG4gICAgICAgIEZsYXJlS2VlcGVyLS0-RnRzb0luZmxhdGlvbkF1dGhvcml6ZXI6IGtlZXAoKVxuICAgICAgICBhbHQgbmV3IGFubnVtXG4gICAgICAgICAgICBGdHNvSW5mbGF0aW9uQXV0aG9yaXplci0-RnRzb0luZmxhdGlvbkF1dGhvcml6ZXI6IGluaXROZXdBbm51bSgpXG4gICAgICAgICAgICBGdHNvSW5mbGF0aW9uQXV0aG9yaXplci0-RnRzb0luZmxhdGlvblBlcmNlbnRhZ2VQcm92aWRlcjogZ2V0QW5udWFsUGVyY2VudGFnZUJpcHMoKVxuICAgICAgICAgICAgRnRzb0luZmxhdGlvbkF1dGhvcml6ZXItPlN1cHBseUFjY291bnRpbmc6IGdldEluZmxhdGFibGVTdXBwbHlCYWxhbmNlKClcbiAgICAgICAgICAgIEZ0c29JbmZsYXRpb25BdXRob3JpemVyLT5GdHNvSW5mbGF0aW9uQWNjb3VudGluZzogaW5mbGF0ZUZvckFubnVtKGFtb3VudClcbiAgICAgICAgZW5kXG4gICAgICAgIGRlYWN0aXZhdGUgRmxhcmVLZWVwZXJcbiAgICBlbmQgICAgIiwibWVybWFpZCI6e30sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb0luZmxhdGlvbkF1dGhvcml6ZXJcbiAgICBwYXJ0aWNpcGFudCBGdHNvSW5mbGF0aW9uUGVyY2VudGFnZVByb3ZpZGVyXG4gICAgcGFydGljaXBhbnQgU3VwcGx5QWNjb3VudGluZ1xuICAgIHBhcnRpY2lwYW50IEZ0c29JbmZsYXRpb25BY2NvdW50aW5nXG4gICAgbG9vcCBFdmVyeSBibG9ja1xuICAgICAgICBWYWxpZGF0b3ItLT5GbGFyZUtlZXBlcjogdHJpZ2dlcigpXG4gICAgICAgIGFjdGl2YXRlIEZsYXJlS2VlcGVyXG4gICAgICAgIEZsYXJlS2VlcGVyLS0-RnRzb0luZmxhdGlvbkF1dGhvcml6ZXI6IGtlZXAoKVxuICAgICAgICBhbHQgbmV3IGFubnVtXG4gICAgICAgICAgICBGdHNvSW5mbGF0aW9uQXV0aG9yaXplci0-RnRzb0luZmxhdGlvbkF1dGhvcml6ZXI6IGluaXROZXdBbm51bSgpXG4gICAgICAgICAgICBGdHNvSW5mbGF0aW9uQXV0aG9yaXplci0-RnRzb0luZmxhdGlvblBlcmNlbnRhZ2VQcm92aWRlcjogZ2V0QW5udWFsUGVyY2VudGFnZUJpcHMoKVxuICAgICAgICAgICAgRnRzb0luZmxhdGlvbkF1dGhvcml6ZXItPlN1cHBseUFjY291bnRpbmc6IGdldEluZmxhdGFibGVTdXBwbHlCYWxhbmNlKClcbiAgICAgICAgICAgIEZ0c29JbmZsYXRpb25BdXRob3JpemVyLT5GdHNvSW5mbGF0aW9uQWNjb3VudGluZzogaW5mbGF0ZUZvckFubnVtKGFtb3VudClcbiAgICAgICAgZW5kXG4gICAgICAgIGRlYWN0aXZhdGUgRmxhcmVLZWVwZXJcbiAgICBlbmQgICAgIiwibWVybWFpZCI6e30sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)

After percentage ratification, the process begins with recognition of an annual inflation amount to allocate for a new annum. This is determined when the current `block.timestamp` exceeds the `endTimeStamp` of the current annum. The amount to recognize is derived from the annual inflation percentage, obtained from the percentage provider, and the inflatable balance, obtained from the accounting system. [SupplyAccounting] provides this balance with the `getInflatableSupplyBalance()` method.

Recognition of inflation annums are performed by the [InflationAuthorizer] contract, within the `initNewAnnum()` method. This method is triggered automatically by the [FlareKeeper] contract at the end of every block by the validators, through the `keep()` method within [InflationAuthorizer]. An inflation annum is defined as a yearly time period over which a type of inflation reward is to be awarded. [InflationAuthorizer] is an abstract contract that provides the basic plumbing to recognize annums, while a concrete implementation, such as [FtsoInflationAuthorizer], provides the means to categorize inflation according to its specific type. Inflation is recognized with a call by [FtsoInflationAuthorizer] to the `inflateForAnnum(uint256)` method on the [FtsoInflationAccounting] contract. 

## Authorization

[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb0luZmxhdGlvbkF1dGhvcml6ZXJcbiAgICBwYXJ0aWNpcGFudCBGdHNvSW5mbGF0aW9uQWNjb3VudGluZ1xuICAgIGxvb3AgRXZlcnkgYmxvY2tcbiAgICAgICAgVmFsaWRhdG9yLS0-RmxhcmVLZWVwZXI6IHRyaWdnZXIoKVxuICAgICAgICBhY3RpdmF0ZSBGbGFyZUtlZXBlclxuICAgICAgICBGbGFyZUtlZXBlci0tPkZ0c29JbmZsYXRpb25BdXRob3JpemVyOiBrZWVwKClcbiAgICAgICAgYWx0IGF1dGhvcml6YXRpb24gZXZlcnkgYXV0aG9yaXphdGlvblJlcXVlc3RGcmVxdWVuY3lTZWNcbiAgICAgICAgICAgIEZ0c29JbmZsYXRpb25BdXRob3JpemVyLT5GdHNvSW5mbGF0aW9uQXV0aG9yaXplcjogY29tcHV0ZSBpbmZsYXRpb24gcmVtYWluaW5nXG4gICAgICAgICAgICBGdHNvSW5mbGF0aW9uQXV0aG9yaXplci0-RnRzb0luZmxhdGlvbkF1dGhvcml6ZXI6IGNvbXB1dGUgcGVyaW9kcyByZW1haW5pbmdcbiAgICAgICAgICAgIEZ0c29JbmZsYXRpb25BdXRob3JpemVyLT5GdHNvSW5mbGF0aW9uQWNjb3VudGluZzogYXV0aG9yaXplTWludGluZyhhbW91bnQpXG4gICAgICAgIGVuZFxuICAgICAgICBkZWFjdGl2YXRlIEZsYXJlS2VlcGVyXG4gICAgZW5kICAgICIsIm1lcm1haWQiOnt9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb0luZmxhdGlvbkF1dGhvcml6ZXJcbiAgICBwYXJ0aWNpcGFudCBGdHNvSW5mbGF0aW9uQWNjb3VudGluZ1xuICAgIGxvb3AgRXZlcnkgYmxvY2tcbiAgICAgICAgVmFsaWRhdG9yLS0-RmxhcmVLZWVwZXI6IHRyaWdnZXIoKVxuICAgICAgICBhY3RpdmF0ZSBGbGFyZUtlZXBlclxuICAgICAgICBGbGFyZUtlZXBlci0tPkZ0c29JbmZsYXRpb25BdXRob3JpemVyOiBrZWVwKClcbiAgICAgICAgYWx0IGF1dGhvcml6YXRpb24gZXZlcnkgYXV0aG9yaXphdGlvblJlcXVlc3RGcmVxdWVuY3lTZWNcbiAgICAgICAgICAgIEZ0c29JbmZsYXRpb25BdXRob3JpemVyLT5GdHNvSW5mbGF0aW9uQXV0aG9yaXplcjogY29tcHV0ZSBpbmZsYXRpb24gcmVtYWluaW5nXG4gICAgICAgICAgICBGdHNvSW5mbGF0aW9uQXV0aG9yaXplci0-RnRzb0luZmxhdGlvbkF1dGhvcml6ZXI6IGNvbXB1dGUgcGVyaW9kcyByZW1haW5pbmdcbiAgICAgICAgICAgIEZ0c29JbmZsYXRpb25BdXRob3JpemVyLT5GdHNvSW5mbGF0aW9uQWNjb3VudGluZzogYXV0aG9yaXplTWludGluZyhhbW91bnQpXG4gICAgICAgIGVuZFxuICAgICAgICBkZWFjdGl2YXRlIEZsYXJlS2VlcGVyXG4gICAgZW5kICAgICIsIm1lcm1haWQiOnt9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ)

Once an annual inflation amount for an annum has been calculated and recognized, inflation must be authorized for minting. Authorization is performed in advance, over the passage of time, at intervals defined by the `authorizationRequestFrequencySec` member variable within [InflationAuthorizer], via the Flare keeping process. A concrete implementation of [InflationAuthorizer] will record authorized inflation in the accounting system, specific to the type of inflation being authorized. For example, the  [FtsoInflationAuthorizer] contract records authorized Ftso inflation reward minting by calling the `authorizeMinting(uint256)` method on the [FtsoInflationAccounting] contract. The next authorized inflation minting amount is calculated within [InflationAuthorizer] as the amount of inflation left to authorize within the annum divided by the number of periods remaining in the annum. The implemented calculation deals with rounding errors and predicted slippage of time (since blocks are not necessarily mined within regular intervals) by always allocating the remaining unauthorized inflation by a dynamically calculated periods remaining.

## Minting
[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb01pbnRpbmdGYXVjZXRcbiAgICBwYXJ0aWNpcGFudCBGdHNvUmV3YXJkTWFuYWdlclRvcHVwXG4gICAgcGFydGljaXBhbnQgTWludEFjY291bnRpbmdcbiAgICBsb29wIEV2ZXJ5IGJsb2NrXG4gICAgICAgIFZhbGlkYXRvci0tPkZsYXJlS2VlcGVyOiB0cmlnZ2VyKClcbiAgICAgICAgYWN0aXZhdGUgRmxhcmVLZWVwZXJcbiAgICAgICAgRmxhcmVLZWVwZXItLT5GdHNvTWludGluZ0ZhdWNldDoga2VlcCgpXG4gICAgICAgIGFsdCBtaW50IGV2ZXJ5IChmdW5kV2l0aGRyYXdUaW1lTG9ja1NlYyAtIGZ1bmRSZXF1ZXN0SW50ZXJ2YWxTZWMpXG4gICAgICAgICAgICBGdHNvTWludGluZ0ZhdWNldC0-RnRzb1Jld2FyZE1hbmFnZXJUb3B1cDogZ2V0QW1vdW50VFdlaSgpXG4gICAgICAgICAgICBGdHNvTWludGluZ0ZhdWNldC0-TWludEFjY291bnRpbmc6IHJlcXVlc3RNaW50aW5nKGFtb3VudClcbiAgICAgICAgICAgIEZsYXJlS2VlcGVyLT5NaW50QWNjb3VudGluZzogZ2V0TWludGluZ1JlcXVlc3RlZCgpXG4gICAgICAgICAgICBGbGFyZUtlZXBlci0-VmFsaWRhdG9yOiBtaW50IHJlcXVlc3RcbiAgICAgICAgICAgIFZhbGlkYXRvci0-RmxhcmVLZWVwZXI6IGNvbmp1cmUgRkxSXG4gICAgICAgIGVsc2UgbmV4dCBibG9jayBhZnRlciBtaW50XG4gICAgICAgICAgICBGbGFyZUtlZXBlci0-TWludEFjY291bnRpbmc6IHJlY2VpdmVNaW50aW5nKGFtb3VudClcbiAgICAgICAgZW5kXG4gICAgICAgIGRlYWN0aXZhdGUgRmxhcmVLZWVwZXIgICAgICAgIFxuICAgIGVuZCAgICAiLCJtZXJtYWlkIjp7fSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb01pbnRpbmdGYXVjZXRcbiAgICBwYXJ0aWNpcGFudCBGdHNvUmV3YXJkTWFuYWdlclRvcHVwXG4gICAgcGFydGljaXBhbnQgTWludEFjY291bnRpbmdcbiAgICBsb29wIEV2ZXJ5IGJsb2NrXG4gICAgICAgIFZhbGlkYXRvci0tPkZsYXJlS2VlcGVyOiB0cmlnZ2VyKClcbiAgICAgICAgYWN0aXZhdGUgRmxhcmVLZWVwZXJcbiAgICAgICAgRmxhcmVLZWVwZXItLT5GdHNvTWludGluZ0ZhdWNldDoga2VlcCgpXG4gICAgICAgIGFsdCBtaW50IGV2ZXJ5IChmdW5kV2l0aGRyYXdUaW1lTG9ja1NlYyAtIGZ1bmRSZXF1ZXN0SW50ZXJ2YWxTZWMpXG4gICAgICAgICAgICBGdHNvTWludGluZ0ZhdWNldC0-RnRzb1Jld2FyZE1hbmFnZXJUb3B1cDogZ2V0QW1vdW50VFdlaSgpXG4gICAgICAgICAgICBGdHNvTWludGluZ0ZhdWNldC0-TWludEFjY291bnRpbmc6IHJlcXVlc3RNaW50aW5nKGFtb3VudClcbiAgICAgICAgICAgIEZsYXJlS2VlcGVyLT5NaW50QWNjb3VudGluZzogZ2V0TWludGluZ1JlcXVlc3RlZCgpXG4gICAgICAgICAgICBGbGFyZUtlZXBlci0-VmFsaWRhdG9yOiBtaW50IHJlcXVlc3RcbiAgICAgICAgICAgIFZhbGlkYXRvci0-RmxhcmVLZWVwZXI6IGNvbmp1cmUgRkxSXG4gICAgICAgIGVsc2UgbmV4dCBibG9jayBhZnRlciBtaW50XG4gICAgICAgICAgICBGbGFyZUtlZXBlci0-TWludEFjY291bnRpbmc6IHJlY2VpdmVNaW50aW5nKGFtb3VudClcbiAgICAgICAgZW5kXG4gICAgICAgIGRlYWN0aXZhdGUgRmxhcmVLZWVwZXIgICAgICAgIFxuICAgIGVuZCAgICAiLCJtZXJtYWlkIjp7fSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)

Inflation increases the overall supply of the FLR token by Flare Network validators minting them into existence. As a safeguard to protect the integrity of the overall supply of FLR on the network, mint requests must be made against authorized inflation. Mint requests are calculated to minimize the amount of reserve any Flare Network contract holds to service reward claiming, while at the same time, attempting to satisfy a large enough reserve to fulfill most claim requests when called upon, without reverting due to low balance. Claiming is not guaranteed to be fulfillable on any given call, but the process is designed to maximize safety while minimizing the inconvenience of not having enough reserve. The system tracks rewards earned, rewards claimed, and authorized inflation, and will, over time, provide for the correct amount of FLR to service all claim requests.

Minting plumbing is implemented as an abstract contract in [MintingFaucet]. Minting is performed at regular intervals as defined by the difference between the `fundWithdrawTimeLockSec` and `fundRequestIntervalSec` member variables. In order to determine the amount of any given mint request, the [MintingFaucet] calls a generic interface [IIWithdrawAmountProvider], which exposes the method `getAmountTWei()`. A withdraw amount provider calculates the amount of FLR that can be minted for the next withdrawal to fund the claiming process of a particular inflation reward type. [MintingFaucet] takes the withdraw amount provider amount and updates the accounting system through the [MintAccounting] contract by calling the `requestMinting(uint256)` method.

A concrete [IIWithdrawAmountProvider] and a concrete [MintingFaucet] are implemented to calculate and record minting requested for a specific type of inflation. For example, [FtsoRewardManagerTopup] implements [IIWithdrawAmountProvider] the contains the calculation to determine the next minting request to top up the [FtsoRewardManager] contract balance. [FtsoRewardMintingFaucet] inherits [MintingFaucet] and requests Ftso reward minting on [MintAccounting] for Ftso inflation rewards.

Validators mint new FLR at request of the [FlareKeeper] contract. In order to determine the amount of FLR to mint at any given block, [FlareKeeper] queries the accounting system through the [MintAccounting] contract by calling the `getMintingRequested()` method.

The process concludes with the [FlareKeeper], in the next block, receiving FLR from the validator. [FlareKeeper] recognizes the new FLR within its contract balance by calling `receiveMinting(uint256)` on [MintAccounting].

## Funding

[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb01pbnRpbmdGYXVjZXRcbiAgICBwYXJ0aWNpcGFudCBGdHNvSW5mbGF0aW9uQWNjb3VudGluZ1xuICAgIHBhcnRpY2lwYW50IEZ0c29SZXdhcmRNYW5hZ2VyXG4gICAgcGFydGljaXBhbnQgRnRzb1Jld2FyZE1hbmFnZXJBY2NvdW50aW5nXG4gICAgbG9vcCBFdmVyeSBibG9ja1xuICAgICAgICBWYWxpZGF0b3ItLT5GbGFyZUtlZXBlcjogdHJpZ2dlcigpXG4gICAgICAgIGFjdGl2YXRlIEZsYXJlS2VlcGVyXG4gICAgICAgIEZsYXJlS2VlcGVyLS0-RnRzb01pbnRpbmdGYXVjZXQ6IGtlZXAoKVxuICAgICAgICBhbHQgd2l0aGRyYXcgZXZlcnkgZnVuZFdpdGhkcmF3VGltZUxvY2tTZWNcbiAgICAgICAgICAgIEZ0c29NaW50aW5nRmF1Y2V0LT5GdHNvTWludGluZ0ZhdWNldDogd2l0aGRyYXdSZXdhcmRGdW5kc0NhbGxiYWNrKGFtb3VudClcbiAgICAgICAgICAgIEZ0c29NaW50aW5nRmF1Y2V0LT5GdHNvSW5mbGF0aW9uQWNjb3VudGluZzogcmVjZWl2ZU1pbnRpbmcoYW1vdW50KVxuICAgICAgICAgICAgRnRzb01pbnRpbmdGYXVjZXQtPkZsYXJlS2VlcGVyOiB0cmFuc2ZlclRvKHJld2FyZE1hbmFnZXIsIGFtb3VudClcbiAgICAgICAgICAgIEZsYXJlS2VlcGVyLT5GdHNvUmV3YXJkTWFuYWdlcjogdHJhbnNmZXIoYW1vdW50KVxuICAgICAgICAgICAgRnRzb1Jld2FyZE1hbmFnZXItPkZ0c29SZXdhcmRNYW5hZ2VyQWNjb3VudGluZzogcmVjZWl2ZVN1cHBseShhbW91bnQpXG4gICAgICAgIGVuZFxuICAgICAgICBkZWFjdGl2YXRlIEZsYXJlS2VlcGVyICAgICAgICBcbiAgICBlbmQgICAgIiwibWVybWFpZCI6e30sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgYXV0b251bWJlclxuICAgIHBhcnRpY2lwYW50IFZhbGlkYXRvclxuICAgIHBhcnRpY2lwYW50IEZsYXJlS2VlcGVyXG4gICAgcGFydGljaXBhbnQgRnRzb01pbnRpbmdGYXVjZXRcbiAgICBwYXJ0aWNpcGFudCBGdHNvSW5mbGF0aW9uQWNjb3VudGluZ1xuICAgIHBhcnRpY2lwYW50IEZ0c29SZXdhcmRNYW5hZ2VyXG4gICAgcGFydGljaXBhbnQgRnRzb1Jld2FyZE1hbmFnZXJBY2NvdW50aW5nXG4gICAgbG9vcCBFdmVyeSBibG9ja1xuICAgICAgICBWYWxpZGF0b3ItLT5GbGFyZUtlZXBlcjogdHJpZ2dlcigpXG4gICAgICAgIGFjdGl2YXRlIEZsYXJlS2VlcGVyXG4gICAgICAgIEZsYXJlS2VlcGVyLS0-RnRzb01pbnRpbmdGYXVjZXQ6IGtlZXAoKVxuICAgICAgICBhbHQgd2l0aGRyYXcgZXZlcnkgZnVuZFdpdGhkcmF3VGltZUxvY2tTZWNcbiAgICAgICAgICAgIEZ0c29NaW50aW5nRmF1Y2V0LT5GdHNvTWludGluZ0ZhdWNldDogd2l0aGRyYXdSZXdhcmRGdW5kc0NhbGxiYWNrKGFtb3VudClcbiAgICAgICAgICAgIEZ0c29NaW50aW5nRmF1Y2V0LT5GdHNvSW5mbGF0aW9uQWNjb3VudGluZzogcmVjZWl2ZU1pbnRpbmcoYW1vdW50KVxuICAgICAgICAgICAgRnRzb01pbnRpbmdGYXVjZXQtPkZsYXJlS2VlcGVyOiB0cmFuc2ZlclRvKHJld2FyZE1hbmFnZXIsIGFtb3VudClcbiAgICAgICAgICAgIEZsYXJlS2VlcGVyLT5GdHNvUmV3YXJkTWFuYWdlcjogdHJhbnNmZXIoYW1vdW50KVxuICAgICAgICAgICAgRnRzb1Jld2FyZE1hbmFnZXItPkZ0c29SZXdhcmRNYW5hZ2VyQWNjb3VudGluZzogcmVjZWl2ZVN1cHBseShhbW91bnQpXG4gICAgICAgIGVuZFxuICAgICAgICBkZWFjdGl2YXRlIEZsYXJlS2VlcGVyICAgICAgICBcbiAgICBlbmQgICAgIiwibWVybWFpZCI6e30sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)

At the end of the fund withdrawal time lock, defined by the `fundWithdrawTimeLockSec` member variable within the [MintingFaucet] contract, [MintingFaucet] updates the accounting system with FLR received to fund a specific rewarding contract by calling the virtual method `withdrawRewardFundsCallback(uint256)`.

Within `withdrawRewardFundsCallback(uint256)`, a concrete implementation of [MintingFaucet], for example [FtsoRewardMintingFaucet], calls the method `receiveMinting(uint256)` on the [FtsoInflationAccounting] contract to record a specific type of inflation received.

[MintingFaucet] proxies the transfer of FLR funds from the [FlareKeeper] to the faucet's recipient reward contract by calling `transferTo(address, uint256)` by supplying the destination address of the rewarding contract and the amount to transfer. [FlareKeeper] performs the transfer.

[FtsoRewardManager] will acknowledge receipt for funds with a call to the [FtsoRewardManagerAccounting] contract method `receiveSupply(uint256)`.

The funding process is complete and the rewarding contract can now satisfy claim fulfillment.

## Balancing

Contracts that hold Flare Network balances (as of this writing, [FlareKeeper] and [FtsoRewardManager]), have a `mustBalance()` modifier that is called on every invocation of FLR entering or leaving these respective contracts. The purpose is to ensure that the actual FLR balance held by the contracts matches the FLR flows as recorded within the accounting system. The balancing and closing process will itself be described in an Accounting document.

[InflationAllocation]: ../contracts/governance/implementation/InflationAllocation.sol "InflationAllocation"
[IIInflationPercentageProvider]: ../contracts/inflation/interface/IIInflationPercentageProvider.sol "IIInflationPercentageProvider"
[FtsoInflationPercentageProvider]: ../contracts/governance/implementation/InflationAllocation.sol "FtsoInflationPercentageProvider"
[SupplyAccounting]: ../contracts/accounting/implementation/SupplyAccounting.sol "SupplyAccounting"
[InflationAuthorizer]: ../contracts/inflation/implementation/InflationAuthorizer.sol "InflationAuthorizer"
[FlareKeeper]: ../contracts/utils/implementation/FlareKeeper.sol "FlareKeeper"
[FtsoInflationAuthorizer]: ../contracts/inflation/implementation/FtsoInflationAuthorizer.sol "FtsoInflationAuthorizer"
[FtsoInflationAccounting]: ../contracts/accounting/implementation/FtsoInflationAccounting.sol "FtsoInflationAccounting"
[MintingFaucet]: ../contracts/inflation/implementation/MintingFaucet.sol "MintingFaucet"
[IIWithdrawAmountProvider]: ../contracts/inflation/interface/IIWithdrawAmountProvider.sol "IIWithdrawAmountProvider"
[MintAccounting]: ../contracts/accounting/implementation/MintAccounting.sol "MintAccounting"
[FtsoRewardManagerTopup]: ../contracts/inflation/implementation/FtsoRewardManagerTopup.sol "FtsoRewardManagerTopup"
[FtsoRewardManager]: ../contracts/implementations/RewardManager.sol "FtsoRewardManager"
[FtsoRewardMintingFaucet]: ../contracts/inflation/implementation/FtsoRewardMintingFaucet.sol "FtsoRewardMintingFaucet"
[FtsoRewardManagerAccounting]: ../contracts/accounting/implementation/FtsoRewardManagerAccounting.sol "FtsoRewardManagerAccounting"